<p>Method overrides make components more difficult to use.</p>

<p>Imagine you’re adding an optional text color parameter to a component. You might be tempted to add an override:</p>

<div class="redhighlight"><pre><code class="language-objc--" data-lang="objc++"><span class="k">@interface</span> <span class="nc">CKLabelComponent</span>
<span class="p">+</span> <span class="p">(</span><span class="kt">instancetype</span><span class="p">)</span><span class="nf">newWithText:</span><span class="p">(</span><span class="bp">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">text</span><span class="p">;</span>
<span class="p">+</span> <span class="p">(</span><span class="kt">instancetype</span><span class="p">)</span><span class="nf">newWithText:</span><span class="p">(</span><span class="bp">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">text</span> <span class="nf">textColor:</span><span class="p">(</span><span class="bp">UIColor</span> <span class="o">*</span><span class="p">)</span><span class="nv">textColor</span><span class="p">;</span>
<span class="k">@end</span></code></pre></div>

<p>But someone will later add another override:</p>

<div class="redhighlight"><pre><code class="language-objc--" data-lang="objc++"><span class="k">@interface</span> <span class="nc">CKLabelComponent</span>
  <span class="o">+</span> <span class="p">(</span><span class="kt">instancetype</span><span class="p">)</span><span class="nl">newWithText</span><span class="p">:(</span><span class="bp">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">text</span><span class="p">;</span>
  <span class="o">+</span> <span class="p">(</span><span class="kt">instancetype</span><span class="p">)</span><span class="nl">newWithText</span><span class="p">:(</span><span class="bp">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">text</span> <span class="nl">textColor</span><span class="p">:(</span><span class="bp">UIColor</span> <span class="o">*</span><span class="p">)</span><span class="n">textColor</span><span class="p">;</span>
  <span class="o">+</span> <span class="p">(</span><span class="kt">instancetype</span><span class="p">)</span><span class="nl">newWithText</span><span class="p">:(</span><span class="bp">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">text</span> <span class="nl">backgroundColor</span><span class="p">:(</span><span class="bp">UIColor</span> <span class="o">*</span><span class="p">)</span><span class="n">textColor</span><span class="p">;</span>
  <span class="o">+</span> <span class="p">(</span><span class="kt">instancetype</span><span class="p">)</span><span class="nl">newWithText</span><span class="p">:(</span><span class="bp">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">text</span> 
                    <span class="nl">textColor</span><span class="p">:(</span><span class="bp">UIColor</span> <span class="o">*</span><span class="p">)</span><span class="n">textColor</span>
              <span class="nl">backgroundColor</span><span class="p">:(</span><span class="bp">UIColor</span> <span class="o">*</span><span class="p">)</span><span class="n">backgroundColor</span><span class="p">;</span>
<span class="k">@end</span></code></pre></div>

<p>The component is splintering. Choosing which override to use is not obvious, and we need a lot of boilerplate behind the scenes to redirect to the designated initializer.</p>

<p>Instead, always expose all parameters in a single designated initializer, and document which are optional.</p>

<p>```objc++</p>

<p>@interface CKLabelComponent
/**
 @param text The text to render in the component.
 @param textColor Optional; pass nil for the default.
 @param backgroundColor Optional; pass nil for the default.
 */
+ (instancetype)newWithText:(NSString *)text 
                  textColor:(UIColor *)textColor
            backgroundColor:(UIColor *)backgroundColor;
@end
```</p>

<p>If there are too many parameters, a useful pattern is a “style struct”. For example, see <code>CKRichTextComponent</code>:</p>

<p>```objc++
struct CKRichTextComponentStyle {
  UIFont *font;
  UIColor *color;
  CGSize textShadowOffset;
  NSUInteger maximumNumberOfLines;
  CKRichTextTruncationMode truncationMode;
  NSAttributedString *truncationAttributedString;
};</p>

<p>@interface CKRichTextComponent : CKComponent
+ (instancetype)newWithAttributedString:(NSAttributedString *)attributedString
                                  style:(CKRichTextComponentStyle)style;
@end
```</p>

<p>Using <a href="http://en.cppreference.com/w/cpp/language/aggregate_initialization">aggregate initialization</a>, it’s easy to initialize the style struct with only some parameters:</p>

<p><code>objc++
{
  .font = [UIFont boldSystemFontOfSize:17],
  .maximumNumberOfLines = 1,
}
</code></p>
