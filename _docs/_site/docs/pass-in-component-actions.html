<p>Follow this simple rule:</p>

<p><strong><code>CKComponentAction</code> selectors should be implemented in the same file they are referenced.</strong></p>

<p>The following counterexample establishes a hidden coupling between the parent and child component. If another component tries to use <code>CKChildComponent</code> or if the method is renamed in <code>CKParentComponent</code>, it will crash at runtime.</p>

<div class="redhighlight"><pre><code class="language-objc--" data-lang="objc++"><span class="k">@implementation</span> <span class="nc">CKParentComponent</span>
<span class="p">+</span> <span class="p">(</span><span class="kt">instancetype</span><span class="p">)</span><span class="nf">new</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="p">[</span><span class="nb">super</span> <span class="nl">newWithComponent</span><span class="p">:[</span><span class="n">CKChildComponent</span> <span class="k">new</span><span class="p">]];</span>
<span class="p">}</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">someAction:</span><span class="p">(</span><span class="n">CKComponent</span> <span class="o">*</span><span class="p">)</span><span class="nv">sender</span>
<span class="p">{</span>
  <span class="c1">// Do something</span>
<span class="p">}</span>
<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">CKChildComponent</span>
<span class="p">+</span> <span class="p">(</span><span class="kt">instancetype</span><span class="p">)</span><span class="nf">new</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="p">[</span><span class="nb">super</span> <span class="nl">newWithComponent</span><span class="p">:</span>
          <span class="p">[</span><span class="n">CKButtonComponent</span>
           <span class="nl">newWithAction</span><span class="p">:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">someAction</span><span class="p">:)]];</span>
<span class="p">}</span>
<span class="k">@end</span></code></pre></div>

<p>Instead, always pass selectors from parents to children. In the following example, it is explicit that the child component needs a <code>CKComponentAction</code> selector. If the parent component renames the <code>someAction:</code> method, itâ€™s far easier to catch renaming the parameter.</p>

<p>```objc++</p>

<p>@implementation CKParentComponent
+ (instancetype)new
{
  return [super newWithComponent:
          [CKChildComponent
           newWithAction:@selector(someAction:)]];
}</p>

<ul>
  <li>(void)someAction:(CKComponent *)sender
{
// Do something
}
@end</li>
</ul>

<p>@implementation CKChildComponent
+ (instancetype)newWithAction:(CKComponentAction)action
{
  return [super newWithComponent:
          [CKButtonComponent
           newWithAction:action]];
}
@end
```</p>
